Skroll=function(t){this.settings=$.extend({mobile:!1,reference:window},t);this.elements=[],this.animations={zoomIn:{start:function(t){$(t).css({transform:"scale(.1,.1)",opacity:0})},end:function(t){$(t).css({transform:"scale(1,1)",opacity:1})}},fadeInLeft:{start:function(t){$(t).css({transform:"translate(-50%,0)",opacity:0})},end:function(t){$(t).css({transform:"translate(0,0)",opacity:1})}},fadeInRight:{start:function(t){$(t).css({transform:"translate(50%,0)",opacity:0})},end:function(t){$(t).css({transform:"translate(0,0)",opacity:1})}},fadeInLeftBig:{start:function(t){$(t).css({transform:"translate(-100%,0)",opacity:0})},end:function(t){$(t).css({transform:"translate(0,0)",opacity:1})}},fadeInRightBig:{start:function(t){$(t).css({transform:"translate(100%,0)",opacity:0})},end:function(t){$(t).css({transform:"translate(0,0)",opacity:1})}},fadeInUp:{start:function(t){$(t).css({transform:"translate(0,50%)",opacity:0})},end:function(t){$(t).css({transform:"translate(0,0)",opacity:1})}},fadeInDown:{start:function(t){$(t).css({transform:"translate(0,-50%)",opacity:0})},end:function(t){$(t).css({transform:"translate(0,0)",opacity:1})}},slideInLeft:{start:function(t){$(t).css({transform:"translate(-50%,0) scale(.8,.8)",opacity:0})},end:function(t){$(t).css({transform:"translate(0,0) scale(1,1)",opacity:1})}},slideInLeftBig:{start:function(t){$(t).css({transform:"translate(-100%,0) scale(.8,.8)",opacity:0})},end:function(t){$(t).css({transform:"translate(0,0) scale(1,1)",opacity:1})}},slideInRight:{start:function(t){$(t).css({transform:"translate(50%,0) scale(.8,.8)",opacity:0})},end:function(t){$(t).css({transform:"translate(0,0) scale(1,1)",opacity:1})}},slideInRightBig:{start:function(t){$(t).css({transform:"translate(-100%,0) scale(.8,.8)",opacity:0})},end:function(t){$(t).css({transform:"translate(0,0) scale(1,1)",opacity:1})}},flipInX:{start:function(t){$(t).css({transform:"rotateX(90deg)",opacity:0})},end:function(t){$(t).css({transform:"rotateX(0deg)",opacity:1})}},flipInY:{start:function(t){$(t).css({transform:"rotateY(90deg)",opacity:0})},end:function(t){$(t).css({transform:"rotateY(0deg)",opacity:1})}},rotateRightIn:{start:function(t){$(t).css({transform:"rotate(45deg)",transformOrigin:"0 100%",opacity:0})},end:function(t){$(t).css({transform:"rotate(0deg)",opacity:1})}},rotateLeftIn:{start:function(t){$(t).css({transform:"rotate(-45deg)",transformOrigin:"0 100%",opacity:0})},end:function(t){$(t).css({transform:"rotate(0deg)",opacity:1})}},growInLeft:{start:function(t){$(t).css({transform:"translate(-100%,0) scale(.1,.1)",opacity:0})},end:function(t){$(t).css({transform:"translate(0,0) scale(1,1)",opacity:1})}},growInRight:{start:function(t){$(t).css({transform:"translate(100%,0) scale(.1,.1)",opacity:0})},end:function(t){$(t).css({transform:"translate(0,0) scale(1,1)",opacity:1})}}}},Skroll.prototype.inViewport=function(t,n){var a=$(this.settings.reference),s=t.data("skrollData").offset.top,e=s+t.outerHeight(),o=a.scrollTop()+a.height()*n.triggerTop,i=a.scrollTop()+a.height()*n.triggerBottom;return e>o&&s<i},Skroll.prototype.getScrollStatus=function(t,n){return this.inViewport(t,n)?(t.data("skrollData").inView=!0,{action:"enter",data:t.data("skrollData")}):t.data("skrollData").inView?(t.data("skrollData").inView=!1,{action:"leave",data:t.data("skrollData")}):{action:"idle",data:t.data("skrollData")}},Skroll.prototype.add=function(t,n){var a=$.extend({triggerTop:.2,triggerBottom:.8,delay:0,duration:500,animation:"zoomIn",easing:"ease",wait:0,repeat:!1,onEnter:!1,onLeave:!1},n);return this.elements.push({element:t,settings:a}),this},Skroll.prototype.recalcPosition=function(){$.each(this.elements,function(t,n){$(n.element).each(function(t,n){var a=$(n);if(!a.data("skrollData").shown){var s=a.css("transform");a.css("transform","none"),a.data("skrollData").offset=a.offset(),a.css("transform",s)}})})},Skroll.prototype.throttle=function(t,n,a){var s,e;return n||(n=250),function(){var o=a||this,i=+new Date,r=arguments;s&&i<s+n?(clearTimeout(e),e=setTimeout(function(){s=i,t.apply(o,r)},n)):(s=i,t.apply(o,r))}},Skroll.prototype.addAnimation=function(t,n){return this.animations[t]=n,this},Skroll.prototype.init=function(){var t=this;return!this.settings.mobile&&$(window).width()<600?t:($.each(t.elements,function(n,a){$(a.element).each(function(n,s){$(s).data("skrollData",{inView:!1,shown:!1,offset:$(s).offset()}),"string"==typeof a.settings.animation&&"none"!=a.settings.animation?(t.animations[a.settings.animation]||(console.warn("The requested animation '%s' was not found switching to default zoomIn",a.settings.animation),console.trace(),a.settings.animation="zoomIn"),t.animations[a.settings.animation].start(s)):"object"==typeof a.settings.animation&&void 0!=a.settings.animation.start&&a.settings.animation.start(s)})}),console.log(t.settings),$(t.settings.reference).on("resize scroll",t.throttle(function(){$.each(t.elements,function(n,a){var s=a.settings.wait;$(a.element).each(function(n,e){var o=$(e),i=t.getScrollStatus(o,a.settings);"idle"!=i.action&&("enter"!=i.action||i.data.shown?"leave"==i.action&&i.data.shown&&a.settings.repeat&&("string"==typeof a.settings.animation&&"none"!=a.settings.animation?t.animations[a.settings.animation]&&o.css("transition","all "+a.settings.duration+"ms "+a.settings.easing).delay(s).queue(function(n){t.animations[a.settings.animation].start(e),o.data("skrollData").shown=!1,n()}):"object"==typeof a.settings.animation&&void 0!=a.settings.animation.end&&o.css("transition","all "+a.settings.duration+"ms "+a.settings.easing).delay(s).queue(function(t){a.settings.animation.start(e),o.data("skrollData").shown=!1,t()}),s+=a.settings.delay):("string"==typeof a.settings.animation&&"none"!=a.settings.animation?o.css("transition","all "+a.settings.duration+"ms "+a.settings.easing).delay(s).queue(function(n){t.animations[a.settings.animation].end(e),o.data("skrollData").shown=!0,n()}):"object"==typeof a.settings.animation&&void 0!=a.settings.animation.end&&o.css("transition","all "+a.settings.duration+"ms "+a.settings.easing).delay(s).queue(function(t){a.settings.animation.end(e),o.data("skrollData").shown=!0,t()}),s+=a.settings.delay),"enter"==i.action?a.settings.onEnter&&a.settings.onEnter(n,e):"leave"==i.action&&a.settings.onLeave&&a.settings.onLeave(n,e))})})},150)),$(this.settings.reference).scroll(),$(this.settings.reference).resize(this.recalcPosition()),t)};
